{"datasets":[{"name":"303a6758","displayName":"Count of Tables","query":"SELECT COUNT(*) FROM system.information_schema.tables;"},{"name":"f5bf425c","displayName":"Count of Volumes","query":"SELECT COUNT(*) FROM system.information_schema.volumes;"},{"name":"5fdcd556","displayName":"Count of Functions","query":"SELECT COUNT(*) FROM system.information_schema.routines;"},{"name":"a92ace17","displayName":"Count of Unused Tables","query":"SELECT \n  COUNT(DISTINCT CONCAT(ist.table_catalog, '.', ist.table_schema, '.', ist.table_name)) AS full_name_count\nFROM \n  system.information_schema.tables ist\n  LEFT JOIN \n    (SELECT \n       tl.source_table_catalog,\n       tl.source_table_schema,\n       tl.source_table_name\n     FROM \n       system.access.table_lineage tl\n     WHERE \n       tl.event_time BETWEEN :date_range_start AND :date_range_end\n       AND tl.source_type IN ('TABLE', 'STREAMING_TABLE')\n    ) tl\n    ON \n      tl.source_table_catalog = ist.table_catalog \n      AND tl.source_table_schema = ist.table_schema \n      AND tl.source_table_name = ist.table_name\nWHERE\n  tl.source_table_catalog IS NULL;","parameters":[{"displayName":"date_range_start","keyword":"date_range_start","dataType":"DATETIME","defaultSelection":{"values":{"dataType":"DATETIME","values":[{"value":"now-30d/d"}]}}},{"displayName":"date_range_end","keyword":"date_range_end","dataType":"DATETIME","defaultSelection":{"values":{"dataType":"DATETIME","values":[{"value":"now/s"}]}}}]},{"name":"55e66413","displayName":"Count of Tables with Usage","query":"SELECT \n  COUNT(DISTINCT CONCAT(source_table_catalog, '.', source_table_schema, '.', source_table_name)) AS distinct_tables\nFROM \n  system.access.table_lineage\nWHERE \n  event_time BETWEEN :date_range_start AND :date_range_end\n  AND source_table_full_name IS NOT NULL\n  AND source_type IN ('TABLE', 'STREAMING_TABLE');","parameters":[{"displayName":"date_range_start","keyword":"date_range_start","dataType":"DATETIME","defaultSelection":{"values":{"dataType":"DATETIME","values":[{"value":"now-30d/d"}]}}},{"displayName":"date_range_end","keyword":"date_range_end","dataType":"DATETIME","defaultSelection":{"values":{"dataType":"DATETIME","values":[{"value":"now/s"}]}}}]},{"name":"90d7e6f1","displayName":"Count of Unique Users with Table Read/Write Event","query":"SELECT \n  COUNT(DISTINCT created_by) AS distinct_users\n\nFROM \n  system.access.table_lineage AS tl\n\nWHERE \n  event_time >= :date_range_start\n  AND event_time <= :date_range_end\n  AND (source_table_full_name IS NOT NULL);","parameters":[{"displayName":"date_range_start","keyword":"date_range_start","dataType":"DATETIME","defaultSelection":{"values":{"dataType":"DATETIME","values":[{"value":"now-30d/d"}]}}},{"displayName":"date_range_end","keyword":"date_range_end","dataType":"DATETIME","defaultSelection":{"values":{"dataType":"DATETIME","values":[{"value":"now/s"}]}}}]},{"name":"628c2773","displayName":"Count of Unsecured Tables","query":"SELECT \n    COUNT(DISTINCT CONCAT(TABLE_CATALOG, '.', TABLE_SCHEMA, '.', TABLE_NAME)) AS full_name_count\nFROM \n    system.information_schema.table_privileges\nWHERE \n    grantee = 'account users' \n    AND privilege_type = 'SELECT';"},{"name":"1f951287","displayName":"Count of Sensitive Tables","query":"SELECT COUNT(DISTINCT CONCAT(table_catalog, '.', table_schema, '.', table_name)) AS distinct_table_count\nFROM (\n    SELECT \n        table_catalog, table_schema, table_name\n    FROM \n        system.information_schema.column_masks\n\n    UNION\n\n    SELECT \n        table_catalog, table_schema, table_name\n    FROM \n        system.information_schema.row_filters\n) AS combined;\n"},{"name":"913b3827","displayName":"Pie Chart of Tagged vs. Untagged Tables","query":"WITH tagged_count AS (\n    SELECT COUNT(*) AS count FROM system.information_schema.table_tags\n)\nSELECT 'Tagged' AS label, count \nFROM tagged_count\nUNION ALL\nSELECT 'Untagged' AS label, \n       (SELECT COUNT(*) FROM system.information_schema.tables) - count \nFROM tagged_count;"},{"name":"788914b8","displayName":"Bar Chart of Popular Tags","query":"SELECT \n  tag_name,\n  COUNT(*) AS usage_count\nFROM \n  system.information_schema.table_tags\nWHERE \n  tag_name IS NOT NULL\nGROUP BY \n  tag_name\nORDER BY \n  usage_count DESC\nLIMIT 10;"},{"name":"8d97349c","displayName":"Usage Over Last Year","query":"SELECT \n    DATE_TRUNC('month', event_time) AS usage_date,\n    COUNT(*) AS usage_count\nFROM \n    system.access.table_lineage\nWHERE \n    (event_time >= :date_range_start AND event_time <= :date_range_end )\nGROUP BY \n    usage_date\nORDER BY\n    usage_date;","parameters":[{"displayName":"date_range_start","keyword":"date_range_start","dataType":"DATETIME","defaultSelection":{"values":{"dataType":"DATETIME","values":[{"value":"now-12M/M"}]}}},{"displayName":"date_range_end","keyword":"date_range_end","dataType":"DATETIME","defaultSelection":{"values":{"dataType":"DATETIME","values":[{"value":"now/s"}]}}}]},{"name":"763a2da9","displayName":"Most Popular Tables with Staleness","query":"WITH TableReads AS (\n    SELECT\n        CONCAT(source_table_catalog, '.', source_table_schema, '.', source_table_name) AS table_full_name,\n        COUNT(*) AS read_count\n    FROM\n        system.access.table_lineage\n    WHERE\n        source_table_catalog IS NOT NULL\n        AND :date_range_start <= event_date AND event_date <= :date_range_end\n    GROUP BY\n        table_full_name\n),\nLatestTargetDate AS (\n    SELECT\n        CONCAT(target_table_catalog, '.', target_table_schema, '.', target_table_name) AS table_full_name,\n        MAX(event_date) AS latest_target_date\n    FROM\n        system.access.table_lineage\n    WHERE\n        target_table_catalog IS NOT NULL\n    GROUP BY\n        table_full_name\n)\nSELECT\n    tr.table_full_name,\n    tr.read_count,\n    COALESCE(ltd.latest_target_date, 'N/A') AS latest_target_date\nFROM\n    TableReads tr\nLEFT JOIN\n    LatestTargetDate ltd ON tr.table_full_name = ltd.table_full_name\nORDER BY\n    tr.read_count DESC\nLIMIT 10;\n","parameters":[{"displayName":"date_range_start","keyword":"date_range_start","dataType":"DATETIME","defaultSelection":{"values":{"dataType":"DATETIME","values":[{"value":"now-30d/d"}]}}},{"displayName":"date_range_end","keyword":"date_range_end","dataType":"DATETIME","defaultSelection":{"values":{"dataType":"DATETIME","values":[{"value":"now/s"}]}}}]},{"name":"5ed9b6e5","displayName":"Score","query":"SELECT \n  \"RAW Data Governance\",\n  CASE \n    WHEN (SELECT COUNT(*) FROM system.information_schema.volumes) > 10 \n    THEN \"8/10\" \n    WHEN (SELECT COUNT(*) FROM system.information_schema.volumes) > 5 \n    THEN \"5/10\" \n    ELSE \"0\" \n  END\n  as SCORE\n\n  UNION\n\n  SELECT \n  \"Procedural Governance\",\n  CASE \n    WHEN (SELECT COUNT(*) FROM system.information_schema.routines) > 10 \n    THEN \"10/10\" \n    WHEN (SELECT COUNT(*) FROM system.information_schema.routines) > 5 \n    THEN \"5/10\" \n    ELSE \"0/10\" \n  END\n\n  UNION\n\n--    SELECT \n--   \"Permission Coverage\",\n--   CASE \n--     WHEN (SELECT \n--     COUNT(DISTINCT CONCAT(TABLE_CATALOG, '.', TABLE_SCHEMA, '.', TABLE_NAME))t\n-- FROM \n--     system.information_schema.table_privileges \n-- WHERE \n--     grantee = 'account users' \n--     AND privilege_type = 'SELECT' limit 10) > 1\n--     THEN\n--     0 \n\n--     ELSE 10 \n--   END\n\n--   UNION \n\n  SELECT \n  \"TAG Governance\",\n  CASE \n    WHEN (SELECT COUNT(*) FROM system.information_schema.column_tags) > 10 \n    THEN \"10/10\" \n    WHEN (SELECT COUNT(*) FROM system.information_schema.column_tags) > 5 \n    THEN \"5/10\" \n    ELSE \"0/10\" \n  END\n\n\n"},{"name":"1eab9fe1","displayName":"waf_controls","query":"SELECT\n  waf_id,\n  pillar,\n  principle,\n  description,\n  check_type,\n  source_object,\n  CASE \n    WHEN waf_id = 'DG-01-03' AND EXISTS (\n      SELECT 1 FROM system.access.table_lineage LIMIT 1\n    ) THEN 'Yes'\n    WHEN waf_id = 'DG-01-04' AND EXISTS (\n      SELECT 1 FROM system.information_schema.columns WHERE comment IS NOT NULL LIMIT 1\n    ) THEN 'Yes'\n    WHEN waf_id = 'DG-01-05' AND EXISTS (\n      SELECT 1 FROM system.information_schema.table_tags LIMIT 1\n    ) THEN 'Yes'\n    WHEN waf_id = 'DG-02-01' AND EXISTS (\n      SELECT 1 FROM system.information_schema.row_filters LIMIT 1\n    ) THEN 'Yes'\n    WHEN waf_id = 'DG-02-02' AND EXISTS (\n      SELECT 1 FROM system.access.audit LIMIT 1\n    ) THEN 'Yes'\n    WHEN waf_id = 'DG-02-03' AND EXISTS (\n      SELECT 1 FROM system.marketplace.listing_access_events LIMIT 1\n    ) THEN 'Yes'\n    WHEN waf_id = 'DG-03-02' AND EXISTS (\n      SELECT 1 FROM system.information_schema.tables \n      WHERE table_name LIKE '%_drift_metrics' OR table_name LIKE '%_profile_metrics' \n      LIMIT 1\n    ) THEN 'Yes'\n    WHEN waf_id = 'DG-03-03' AND EXISTS (\n      SELECT 1 FROM system.information_schema.tables \n      WHERE table_type = 'BASE TABLE'\n      LIMIT 1\n    ) THEN 'Yes'\n    ELSE 'No'\n  END AS implemented\nFROM (\n  SELECT * FROM VALUES\n    ('DG-01-03', 'Data & AI Governance', 'Unify data and AI management', 'Track data and AI lineage', 'AUTO', 'system.access.table_lineage'),\n    ('DG-01-04', 'Data & AI Governance', 'Unify data and AI management', 'Add comments to metadata', 'AUTO', 'system.information_schema.columns'),\n    ('DG-01-05', 'Data & AI Governance', 'Unify data and AI management', 'Enable easy data discovery', 'AUTO', 'system.information_schema.table_tags'),\n    ('DG-02-01', 'Data & AI Governance', 'Unify data and AI security', 'Centralize access control (row/column level)', 'AUTO', 'system.information_schema.row_filters'),\n    ('DG-02-02', 'Data & AI Governance', 'Unify data and AI security', 'Configure audit logging', 'AUTO', 'system.access.audit'),\n    ('DG-02-03', 'Data & AI Governance', 'Unify data and AI security', 'Audit data platform events', 'AUTO', 'system.marketplace.listing_access_events'),\n    ('DG-03-02', 'Data & AI Governance', 'Establish data quality standards', 'Use data quality tools and profiling', 'PATTERN', 'system.information_schema.tables'),\n    ('DG-03-03', 'Data & AI Governance', 'Establish data quality standards', 'Enforce standardized data formats', 'AUTO', 'system.information_schema.tables')\n  AS waf(waf_id, pillar, principle, description, check_type, source_object)\n) waf\n"},{"name":"95258030","displayName":"waf_principal_percentage","query":"WITH waf_status AS (\n  SELECT\n    waf_id,\n    principle,\n    CASE \n      WHEN waf_id = 'DG-01-03' AND EXISTS (\n        SELECT 1 FROM system.access.table_lineage LIMIT 1\n      ) THEN 'Yes'\n      WHEN waf_id = 'DG-01-04' AND EXISTS (\n        SELECT 1 FROM system.information_schema.columns WHERE comment IS NOT NULL LIMIT 1\n      ) THEN 'Yes'\n      WHEN waf_id = 'DG-01-05' AND EXISTS (\n        SELECT 1 FROM system.information_schema.table_tags LIMIT 1\n      ) THEN 'Yes'\n      WHEN waf_id = 'DG-02-01' AND EXISTS (\n        SELECT 1 FROM system.information_schema.row_filters LIMIT 1\n      ) THEN 'Yes'\n      WHEN waf_id = 'DG-02-02' AND EXISTS (\n        SELECT 1 FROM system.access.audit LIMIT 1\n      ) THEN 'Yes'\n      WHEN waf_id = 'DG-02-03' AND EXISTS (\n        SELECT 1 FROM system.marketplace.listing_access_events LIMIT 1\n      ) THEN 'Yes'\n      WHEN waf_id = 'DG-03-02' AND EXISTS (\n        SELECT 1 FROM system.information_schema.tables \n        WHERE table_name LIKE '%_drift_metrics' OR table_name LIKE '%_profile_metrics' \n        LIMIT 1\n      ) THEN 'Yes'\n      WHEN waf_id = 'DG-03-03' AND EXISTS (\n        SELECT 1 FROM system.information_schema.tables \n        WHERE table_type = 'BASE TABLE'\n        LIMIT 1\n      ) THEN 'Yes'\n      ELSE 'No'\n    END AS implemented\n  FROM (\n    SELECT * FROM VALUES\n      ('DG-01-03', 'Unify data and AI management'),\n      ('DG-01-04', 'Unify data and AI management'),\n      ('DG-01-05', 'Unify data and AI management'),\n      ('DG-02-01', 'Unify data and AI security'),\n      ('DG-02-02', 'Unify data and AI security'),\n      ('DG-02-03', 'Unify data and AI security'),\n      ('DG-03-02', 'Establish data quality standards'),\n      ('DG-03-03', 'Establish data quality standards')\n    AS waf(waf_id, principle)\n  )\n)\n\nSELECT\n  principle,\n  COUNT(*) AS total_controls,\n  SUM(CASE WHEN implemented = 'Yes' THEN 1 ELSE 0 END) AS implemented_controls,\n  ROUND(100 * SUM(CASE WHEN implemented = 'Yes' THEN 1 ELSE 0 END) / COUNT(*), 0) AS completion_percent\nFROM waf_status\nGROUP BY principle\nORDER BY principle\n"},{"name":"920a8759","displayName":"total_percentage","query":"WITH waf_status AS (\n  SELECT\n    waf_id,\n    CASE \n      WHEN waf_id = 'DG-01-03' AND EXISTS (\n        SELECT 1 FROM system.access.table_lineage LIMIT 1\n      ) THEN 'Yes'\n      WHEN waf_id = 'DG-01-04' AND EXISTS (\n        SELECT 1 FROM system.information_schema.columns WHERE comment IS NOT NULL LIMIT 1\n      ) THEN 'Yes'\n      WHEN waf_id = 'DG-01-05' AND EXISTS (\n        SELECT 1 FROM system.information_schema.table_tags LIMIT 1\n      ) THEN 'Yes'\n      WHEN waf_id = 'DG-02-01' AND EXISTS (\n        SELECT 1 FROM system.information_schema.row_filters LIMIT 1\n      ) THEN 'Yes'\n      WHEN waf_id = 'DG-02-02' AND EXISTS (\n        SELECT 1 FROM system.access.audit LIMIT 1\n      ) THEN 'Yes'\n      WHEN waf_id = 'DG-02-03' AND EXISTS (\n        SELECT 1 FROM system.marketplace.listing_access_events LIMIT 1\n      ) THEN 'Yes'\n      WHEN waf_id = 'DG-03-02' AND EXISTS (\n        SELECT 1 FROM system.information_schema.tables \n        WHERE table_name LIKE '%_drift_metrics' OR table_name LIKE '%_profile_metrics' \n        LIMIT 1\n      ) THEN 'Yes'\n      WHEN waf_id = 'DG-03-03' AND EXISTS (\n        SELECT 1 FROM system.information_schema.tables \n        WHERE table_type = 'BASE TABLE'\n        LIMIT 1\n      ) THEN 'Yes'\n      ELSE 'No'\n    END AS implemented\n  FROM (\n    SELECT * FROM VALUES\n      ('DG-01-03'), ('DG-01-04'), ('DG-01-05'),\n      ('DG-02-01'), ('DG-02-02'), ('DG-02-03'),\n      ('DG-03-02'), ('DG-03-03')\n    AS waf(waf_id)\n  )\n)\n\nSELECT\n  COUNT(*) AS total_controls,\n  SUM(CASE WHEN implemented = 'Yes' THEN 1 ELSE 0 END) AS implemented_controls,\n  ROUND(100 * SUM(CASE WHEN implemented = 'Yes' THEN 1 ELSE 0 END) / COUNT(*), 0) AS completion_percent\nFROM waf_status\n"}],"pages":[{"name":"e9e15078","displayName":"New Page","layout":[{"widget":{"name":"ec3a56bc","textbox_spec":"# Governance Scores"},"position":{"x":0,"y":0,"width":6,"height":2}},{"widget":{"name":"d682affb","queries":[{"name":"main_query","query":{"datasetName":"303a6758","fields":[{"name":"count(1)","expression":"`count(1)`"}],"disaggregated":true}}],"spec":{"version":2,"widgetType":"counter","encodings":{"value":{"fieldName":"count(1)","style":{"rules":[{"condition":{"operator":"=","operand":{"type":"data-value","value":"0"}},"color":"#888888"}]},"displayName":"count(1)"}},"frame":{"showTitle":true,"showDescription":false,"title":"Total Tables"}}},"position":{"x":0,"y":21,"width":2,"height":3}},{"widget":{"name":"f0321af0","queries":[{"name":"main_query","query":{"datasetName":"f5bf425c","fields":[{"name":"count(1)","expression":"`count(1)`"}],"disaggregated":true}}],"spec":{"version":2,"widgetType":"counter","encodings":{"value":{"fieldName":"count(1)","style":{"rules":[{"condition":{"operator":"=","operand":{"type":"data-value","value":"0"}},"color":"#888888"}]},"displayName":"count(1)"}},"frame":{"showTitle":true,"title":"Total Volumes","contentAlignment":"center"}}},"position":{"x":2,"y":21,"width":2,"height":3}},{"widget":{"name":"ee5b3bb1","queries":[{"name":"main_query","query":{"datasetName":"5fdcd556","fields":[{"name":"count(1)","expression":"`count(1)`"}],"disaggregated":true}}],"spec":{"version":2,"widgetType":"counter","encodings":{"value":{"fieldName":"count(1)","style":{"rules":[{"condition":{"operator":"=","operand":{"type":"data-value","value":"0"}},"color":"#888888"}]},"displayName":"count(1)"}},"frame":{"showTitle":true,"title":"Total Functions"}}},"position":{"x":4,"y":21,"width":2,"height":3}},{"widget":{"name":"33abd742","queries":[{"name":"main_query","query":{"datasetName":"a92ace17","fields":[{"name":"full_name_count","expression":"`full_name_count`"}],"disaggregated":true}}],"spec":{"version":2,"widgetType":"counter","encodings":{"value":{"fieldName":"full_name_count","displayName":"full_name_count"}},"frame":{"showTitle":true,"showDescription":true,"description":"See the count of tables with no reads","title":"Unused Tables (Last 30 Days)"}}},"position":{"x":0,"y":31,"width":2,"height":3}},{"widget":{"name":"bb0b2fd5","queries":[{"name":"main_query","query":{"datasetName":"55e66413","fields":[{"name":"distinct_tables","expression":"`distinct_tables`"}],"disaggregated":true}}],"spec":{"version":2,"widgetType":"counter","encodings":{"value":{"fieldName":"distinct_tables","style":{"rules":[{"condition":{"operator":"=","operand":{"type":"data-value","value":"0"}},"color":"#888888"}]},"displayName":"distinct_tables"}},"frame":{"showTitle":true,"title":"Active Tables (Last 30 days)","showDescription":true,"description":"See the count of tables with reads"}}},"position":{"x":2,"y":31,"width":2,"height":3}},{"widget":{"name":"7414554c","queries":[{"name":"main_query","query":{"datasetName":"90d7e6f1","fields":[{"name":"distinct_users","expression":"`distinct_users`"}],"disaggregated":true}}],"spec":{"version":2,"widgetType":"counter","encodings":{"value":{"fieldName":"distinct_users","style":{"rules":[{"condition":{"operator":"=","operand":{"type":"data-value","value":"0"}},"color":"#000000"}]},"displayName":"distinct_users"}},"frame":{"showTitle":true,"title":"Active Users (Last 30 Days)","showDescription":true,"description":"See the count of users who read from tables"}}},"position":{"x":4,"y":31,"width":2,"height":3}},{"widget":{"name":"bdaa8aa0","queries":[{"name":"main_query","query":{"datasetName":"628c2773","fields":[{"name":"full_name_count","expression":"`full_name_count`"}],"disaggregated":true}}],"spec":{"version":2,"widgetType":"counter","encodings":{"value":{"fieldName":"full_name_count","displayName":"full_name_count"}},"frame":{"showTitle":true,"title":"Ungoverned Tables","showDescription":true,"description":"See the count of tables to which all users have read access"}}},"position":{"x":0,"y":41,"width":3,"height":3}},{"widget":{"name":"e60dfd50","queries":[{"name":"main_query","query":{"datasetName":"1f951287","fields":[{"name":"distinct_table_count","expression":"`distinct_table_count`"}],"disaggregated":true}}],"spec":{"version":2,"widgetType":"counter","encodings":{"value":{"fieldName":"distinct_table_count","displayName":"distinct_table_count"}},"frame":{"showTitle":true,"title":"Sensitive Tables","showDescription":true,"description":"See the count of tables with either row filters or column masks"}}},"position":{"x":3,"y":41,"width":3,"height":3}},{"widget":{"name":"75d01e2b","queries":[{"name":"main_query","query":{"datasetName":"913b3827","fields":[{"name":"sum(count)","expression":"SUM(`count`)"},{"name":"label","expression":"`label`"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"pie","encodings":{"angle":{"fieldName":"sum(count)","scale":{"type":"quantitative"},"displayName":" "},"color":{"fieldName":"label","scale":{"type":"categorical","mappings":[{"value":"Untagged","color":"#919191"},{"value":"Tagged","color":"#00A972"}]},"displayName":"Legend"},"label":{"show":true}},"frame":{"showTitle":true,"title":"Table Tag Usage","showDescription":false,"description":"See the breakdown of tagged and untagged tables"}}},"position":{"x":0,"y":44,"width":2,"height":6}},{"widget":{"name":"ff45bac8","queries":[{"name":"main_query","query":{"datasetName":"788914b8","fields":[{"name":"sum(usage_count)","expression":"SUM(`usage_count`)"},{"name":"tag_name","expression":"`tag_name`"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"x":{"fieldName":"sum(usage_count)","scale":{"type":"quantitative"},"displayName":"Usage Count"},"y":{"fieldName":"tag_name","scale":{"type":"categorical","sort":{"by":"x-reversed"}},"displayName":"Tag Name"},"label":{"show":false}},"frame":{"showTitle":true,"title":"Most Popular Table Tags","showDescription":false,"description":""},"mark":{"colors":["#AB4057","#FFAB00","#00A972","#FF3621","#8BCAE7","#AB4057","#99DDB4","#FCA4A1","#919191","#BF7080"]}}},"position":{"x":2,"y":44,"width":4,"height":6}},{"widget":{"name":"4a969668","queries":[{"name":"main_query","query":{"datasetName":"763a2da9","fields":[{"name":"sum(read_count)","expression":"SUM(`read_count`)"},{"name":"table_full_name","expression":"`table_full_name`"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"x":{"fieldName":"sum(read_count)","scale":{"type":"quantitative"},"displayName":"Usage Count"},"y":{"fieldName":"table_full_name","scale":{"type":"categorical","sort":{"by":"x-reversed"}},"displayName":"Table Name"},"label":{"show":false}},"frame":{"showTitle":true,"title":"Most Popular Tables","showDescription":true,"description":"Identify the 10 most read from tables and see when they were last written to"}}},"position":{"x":0,"y":34,"width":6,"height":7}},{"widget":{"name":"f9046177","queries":[{"name":"main_query","query":{"datasetName":"8d97349c","fields":[{"name":"monthly(usage_date)","expression":"DATE_TRUNC(\"MONTH\", `usage_date`)"},{"name":"sum(usage_count)","expression":"SUM(`usage_count`)"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"line","encodings":{"x":{"fieldName":"monthly(usage_date)","scale":{"type":"temporal"},"displayName":"Period"},"y":{"fieldName":"sum(usage_count)","scale":{"type":"quantitative"},"displayName":"Read Events"}},"frame":{"showTitle":true,"showDescription":true,"title":"Table Usage (Last 12 Months)","description":"See read events for tables over time"}}},"position":{"x":0,"y":24,"width":6,"height":7}},{"widget":{"name":"b78ba2ba","queries":[{"name":"main_query","query":{"datasetName":"1eab9fe1","fields":[{"name":"waf_id","expression":"`waf_id`"},{"name":"implemented","expression":"`implemented`"},{"name":"pillar","expression":"`pillar`"},{"name":"principle","expression":"`principle`"},{"name":"description","expression":"`description`"},{"name":"check_type","expression":"`check_type`"},{"name":"source_object","expression":"`source_object`"}],"disaggregated":true}}],"spec":{"version":1,"widgetType":"table","encodings":{"columns":[{"fieldName":"waf_id","title":"waf_id","booleanValues":["false","true"],"type":"string","displayAs":"string","displayName":"waf_id"},{"fieldName":"implemented","title":"implemented","booleanValues":["false","true"],"type":"string","displayAs":"string","displayName":"implemented"},{"fieldName":"pillar","title":"pillar","booleanValues":["false","true"],"type":"string","displayAs":"string","displayName":"pillar"},{"fieldName":"principle","title":"principle","booleanValues":["false","true"],"type":"string","displayAs":"string","displayName":"principle"},{"fieldName":"description","title":"description","booleanValues":["false","true"],"type":"string","displayAs":"string","displayName":"description"},{"fieldName":"check_type","title":"check_type","booleanValues":["false","true"],"type":"string","displayAs":"string","displayName":"check_type"},{"fieldName":"source_object","title":"source_object","booleanValues":["false","true"],"type":"string","displayAs":"string","displayName":"source_object"}]},"invisibleColumns":[],"allowHTMLByDefault":false,"itemsPerPage":25,"paginationSize":"default","condensed":true,"withRowNumber":false,"frame":{"title":"WAF Controls Table","showTitle":true}}},"position":{"x":0,"y":10,"width":6,"height":6}},{"widget":{"name":"ca7cc5ad","queries":[{"name":"main_query","query":{"datasetName":"95258030","fields":[{"name":"sum(completion_percent)","expression":"SUM(`completion_percent`)"},{"name":"principle","expression":"`principle`"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"x":{"fieldName":"sum(completion_percent)","scale":{"type":"quantitative"},"displayName":"Sum of completion_percent"},"y":{"fieldName":"principle","scale":{"type":"categorical","sort":{"by":"x-reversed"}},"displayName":"principle"}},"frame":{"title":"Completion percentage of implemented controls per principle","showTitle":true}}},"position":{"x":0,"y":4,"width":6,"height":6}},{"widget":{"name":"4b2ce052","queries":[{"name":"main_query","query":{"datasetName":"920a8759","fields":[{"name":"avg(completion_percent)","expression":"AVG(`completion_percent`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"counter","encodings":{"value":{"fieldName":"avg(completion_percent)","displayName":"Average completion_percent"}},"frame":{"title":"Completion Percentage","showTitle":true}}},"position":{"x":0,"y":2,"width":6,"height":2}}],"pageType":"PAGE_TYPE_CANVAS"}],"uiSettings":{"theme":{}}}