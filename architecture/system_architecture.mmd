graph TB
    subgraph "User Layer"
        U1[ğŸ‘¤ End User]
        U2[ğŸ‘¨â€ğŸ’¼ Admin/DevOps]
        U3[ğŸ“Š Data Analyst]
    end
    
    subgraph "Databricks Workspace"
        subgraph "Application Layer"
            APP[ğŸš€ Databricks App<br/>Streamlit UI<br/>WAF Guide Sidebar]
            DASH[ğŸ“Š Lakeview Dashboard<br/>WAF_ASSESSMENTv1.6<br/>4 Pillars + Summary]
        end
        
        subgraph "Data Layer"
            ST1[system.information_schema.tables]
            ST2[system.billing.usage]
            ST3[system.compute.clusters]
            ST4[system.compute.warehouses]
            ST5[system.access.table_lineage]
            ST6[system.query.history]
            ST7[system.mlflow.experiments_latest]
            ST8[system.serving.served_entities]
            ST9[system.data_classification.results]
            ST10[system.access.audit]
        end
        
        subgraph "Compute Layer"
            SQLW[SQL Warehouse<br/>Serverless Starter]
            CLUSTER[Compute Clusters]
        end
        
        subgraph "Storage Layer"
            UC[Unity Catalog<br/>Metastore]
            DELTA[Delta Tables]
        end
    end
    
    subgraph "Deployment Layer"
        DEPLOY[deploy_complete.py<br/>Deployment Script]
        GIT[GitHub Repository<br/>Version Control]
    end
    
    U1 --> APP
    U2 --> APP
    U3 --> APP
    APP --> DASH
    DASH --> SQLW
    SQLW --> ST1
    SQLW --> ST2
    SQLW --> ST3
    SQLW --> ST4
    SQLW --> ST5
    SQLW --> ST6
    SQLW --> ST7
    SQLW --> ST8
    SQLW --> ST9
    SQLW --> ST10
    ST1 --> UC
    ST2 --> UC
    ST3 --> CLUSTER
    ST4 --> SQLW
    DEPLOY --> APP
    DEPLOY --> DASH
    DEPLOY --> GIT
    GIT --> DEPLOY